(function(){"use strict";var e={7917:function(e,t,o){var l=o(311);const n={class:"main"},a=(0,l.createTextVNode)(" 张单词卡片 "),r=(0,l.createElementVNode)("a",{name:"top"},null,-1),c=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[(0,l.createElementVNode)("g",{fill:"none"},[(0,l.createElementVNode)("path",{d:"M6 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9.5a.5.5 0 0 0 0-1H6a1 1 0 0 1-1-1h10a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2H6zm4 3c.2 0 .38.12.46.303l3 7a.5.5 0 0 1-.92.394L11.813 11H8.187l-.727 1.697a.5.5 0 0 1-.92-.394l3-7A.5.5 0 0 1 10 5zm-1.385 5h2.77L10 6.77L8.615 10z",fill:"currentColor"})])],-1),s=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,l.createElementVNode)("path",{d:"M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06l-1.23 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61c0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53l-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.73-.73l-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z",fill:"currentColor"})],-1),d=(0,l.createTextVNode)(" 回到顶部 "),i=(0,l.createElementVNode)("div",{id:"footer"},null,-1);function u(e,t,o,u,p,h){const w=(0,l.resolveComponent)("n-number-animation"),v=(0,l.resolveComponent)("n-statistic"),f=(0,l.resolveComponent)("n-space"),m=(0,l.resolveComponent)("n-collapse-transition"),_=(0,l.resolveComponent)("TopMenu"),x=(0,l.resolveComponent)("n-message-provider"),g=(0,l.resolveComponent)("n-icon"),k=(0,l.resolveComponent)("n-button"),C=(0,l.resolveComponent)("n-input"),y=(0,l.resolveComponent)("MarkPen"),V=(0,l.resolveComponent)("n-pagination"),N=(0,l.resolveComponent)("WordCardFall"),b=(0,l.resolveComponent)("n-checkbox"),z=(0,l.resolveComponent)("n-checkbox-group"),S=(0,l.resolveComponent)("n-card"),B=(0,l.resolveComponent)("n-drawer"),E=(0,l.resolveComponent)("n-config-provider");return(0,l.openBlock)(),(0,l.createBlock)(E,{locale:u.zhCN,"date-locale":u.dateZhCN},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",{id:"header",onMouseenter:t[0]||(t[0]=e=>u.show=!0),onMouseleave:t[1]||(t[1]=e=>u.show=!1)},[(0,l.createVNode)(m,{show:u.show},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{id:"header-num",justify:"center"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{label:"你已正确加载","tabular-nums":""},{suffix:(0,l.withCtx)((()=>[a])),default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{from:0,to:u.words.length},null,8,["to"])])),_:1})])),_:1})])),_:1},8,["show"])],32),r,(0,l.createVNode)(x,{placement:"top-right"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(_,{onCover_words:u.cover_words,onAdd_words:u.add_words,onRepack_words:u.repack_words},null,8,["onCover_words","onAdd_words","onRepack_words"])])),_:1}),(0,l.createVNode)(f,{align:"center",justify:"center",class:"sticky"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{bordered:!1,focusable:!1,circle:"",style:{"font-size":"50px",width:"60px",height:"60px"},onClick:u.activate},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,null,{default:(0,l.withCtx)((()=>[c])),_:1})])),_:1},8,["onClick"]),(0,l.createVNode)(k,{bordered:!1,focusable:!1,circle:"",style:{"font-size":"50px",width:"60px",height:"60px"},onClick:u.translate},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,null,{default:(0,l.withCtx)((()=>[s])),_:1})])),_:1},8,["onClick"]),(0,l.createVNode)(C,{value:u.keyword,"onUpdate:value":t[2]||(t[2]=e=>u.keyword=e),type:"text",placeholder:"press any word"},null,8,["value"]),(0,l.createVNode)(y,{colors:u.colors,mark:u.mark,onSet_mark:u.set_mark},null,8,["colors","mark","onSet_mark"]),(0,l.createVNode)(k,{tag:"a",href:"#top",type:"info",onMouseenter:t[3]||(t[3]=e=>u.top_show=!0),onMouseleave:t[4]||(t[4]=e=>u.top_show=!1),style:(0,l.normalizeStyle)({opacity:u.top_show||u.enough_high?1:0})},{default:(0,l.withCtx)((()=>[d])),_:1},8,["style"])])),_:1}),(0,l.createVNode)(V,{page:u.page,"onUpdate:page":t[5]||(t[5]=e=>u.page=e),"page-count":u.pageMax,"show-quick-jumper":"","page-slot":7,"page-size":u.pageSize,"onUpdate:page-size":t[6]||(t[6]=e=>u.pageSize=e),"show-size-picker":"","page-sizes":[10,20,30,40,50]},null,8,["page","page-count","page-size"]),(0,l.createVNode)(x,{placement:"top-right"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(N,{words:u.show_words,onApp_mark_word:u.mark_word,colors:u.colors,app_mark:u.mark,onAdd_words:u.add_words,pageSize:u.pageSize},null,8,["words","onApp_mark_word","colors","app_mark","onAdd_words","pageSize"])])),_:1}),i]),(0,l.createVNode)(B,{show:u.active,"onUpdate:show":t[7]||(t[7]=e=>u.active=e),width:502,placement:"left"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,null,{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(u.tagSets,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(S,{key:t,title:e.name,style:{width:"500px"}},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(z,{value:e.checked,"onUpdate:value":t=>e.checked=t},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,null,{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.tags,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(b,{key:t,value:e,label:e},null,8,["value","label"])))),128))])),_:2},1024)])),_:2},1032,["value","onUpdate:value"])])),_:2},1032,["title"])))),128))])),_:1})])),_:1},8,["show"])])),_:1},8,["locale","date-locale"])}const p=(0,l.createTextVNode)(" 追加模式 "),h=(0,l.createTextVNode)(" 覆盖模式 "),w=(0,l.createTextVNode)("上传 JSON/XLSX 文件"),v=(0,l.createTextVNode)("下载 JSON 文件"),f={ref:"c0",download:"data.json"};function m(e,t,o,n,a,r){const c=(0,l.resolveComponent)("n-switch"),s=(0,l.resolveComponent)("n-button"),d=(0,l.resolveComponent)("n-upload"),i=(0,l.resolveComponent)("n-space");return(0,l.openBlock)(),(0,l.createBlock)(i,{align:"center"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{"rail-style":e.railStyle,value:e.overlap,"onUpdate:value":t[0]||(t[0]=t=>e.overlap=t)},{unchecked:(0,l.withCtx)((()=>[p])),checked:(0,l.withCtx)((()=>[h])),_:1},8,["rail-style","value"]),(0,l.createVNode)(d,{onBeforeUpload:e.beforeUpload,multiple:"","show-file-list":!1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(s,null,{default:(0,l.withCtx)((()=>[w])),_:1})])),_:1},8,["onBeforeUpload"]),(0,l.createVNode)(s,{onClick:e.download},{default:(0,l.withCtx)((()=>[v])),_:1},8,["onClick"]),(0,l.withDirectives)((0,l.createElementVNode)("a",f,null,512),[[l.vShow,!1]])])),_:1})}var _=o(1260),x=o(8042),g=o(9447),k=XLSX;function C(e,t){const o=(0,l.ref)(!1),n=(n,a)=>{let r=n.target.result,c=JSON.parse(r);e.warning("加载数据中...",{icon:()=>(0,l.h)(x.g,null,{default:()=>(0,l.h)(g.Z)})}),setTimeout((()=>{o.value?t.emit("cover_words",c):t.emit("add_words",c),e.success(`${a} 上传成功`)}),50)},a=(l,n)=>{let a=l.target.result,r=k.read(a,{type:"binary"}),c=prompt(`正在读取文件 ${n}\n请输入数据列编号，使用逗号、分号分割，下面是一个示例\na,b;d,e`);if(null==c)return void e.warning(`已取消导入 ${n}`);c=c.toUpperCase().replace(/，/g,",").replace(/；/g,";");let s=[];c.split(";").forEach((e=>{s.push(e.split(","))})),c=prompt(`正在读取文件 ${n}\n请输入数据标签，使用逗号分割，下面是一个示例\n英语一,2018`);let d=[];null!=c&&(d=c.replace(/，/g,",").split(","));let i=[];for(let e in r.Sheets){let t=r.Sheets[e],o=t["!ref"].split(":"),l=parseInt(o[1].replace(/[a-zA-Z]/g,"")),n=Object.keys(t);s.forEach((e=>{for(let o=1;o<=l;o++){let l=`${e[0]}${o}`,a=`${e[1]}${o}`;if(n.indexOf(l)<0||n.indexOf(a)<0)continue;let r=String(t[l].v),c=String(t[a].v);r.search(/[a-zA-Z]/)>=0&&i.push({en:r,zh:c,tags:d})}}));break}i.length>0?(o.value?t.emit("cover_words",i):t.emit("add_words",i),e.success(`${n} 上传成功`)):e.error("未检测到数据！")},r=async t=>{let o=t.file.file,l=o.name,r=l.replace(/.*\./g,"");if("json"==r){let e=new FileReader;e.onload=e=>n(e,l),e.readAsText(o)}else if("xls"==r||"xlsx"==r){let e=new FileReader;e.onload=e=>a(e,l),e.readAsBinaryString(o)}else e.error("只能上传json、xls或xlsx格式的数据文件，请重新上传");return!1},c=({focused:e,checked:t})=>{const o={};return t?(o.background="#d03050",e&&(o.boxShadow="0 0 0 2px #d0305040")):(o.background="#2080f0",e&&(o.boxShadow="0 0 0 2px #2080f040")),o};return{overlap:o,beforeUpload:r,railStyle:c}}function y(e,t){const o=(0,l.ref)(null),n=()=>{e.warning("打包数据中...",{icon:()=>(0,l.h)(x.g,null,{default:()=>(0,l.h)(g.Z)})}),setTimeout((()=>{var l;t.emit("repack_words",(e=>l=e));const n=new Blob([l]);var a=URL.createObjectURL(n);o.value.href=a,o.value.click(),URL.revokeObjectURL(a),e.success("下载数据成功")}),50)};return{c0:o,download:n}}var V=(0,l.defineComponent)({emits:["cover_words","add_words","repack_words"],setup(e,t){const o=(0,_.U)(),{overlap:l,beforeUpload:n,railStyle:a}=C(o,t),{c0:r,download:c}=y(o,t);return{c0:r,overlap:l,railStyle:a,beforeUpload:n,download:c}}}),N=o(89);const b=(0,N.Z)(V,[["render",m]]);var z=b;const S=e=>((0,l.pushScopeId)("data-v-7b55b22e"),e=e(),(0,l.popScopeId)(),e),B=["onClick"],E=S((()=>(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,l.createElementVNode)("path",{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71l-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3l-2.12-2.12z",fill:"currentColor"})],-1))),M=["color"],L=S((()=>(0,l.createElementVNode)("path",{d:"M24 2H8a2 2 0 0 0-2 2v26l10-5.054L26 30V4a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1))),U=[L],Z={color:"black",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},T=S((()=>(0,l.createElementVNode)("path",{d:"M24 4v22.75l-7.1-3.59l-.9-.45l-.9.45L8 26.75V4h16m0-2H8a2 2 0 0 0-2 2v26l10-5l10 5V4a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1))),O=[T],H=["onClick"],j=(0,l.createTextVNode)(" 百度翻译 "),A=(0,l.createTextVNode)(" 谷歌翻译 "),F=S((()=>(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,l.createElementVNode)("path",{d:"M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06l-1.23 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61c0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53l-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.73-.73l-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z",fill:"currentColor"})],-1))),D=(0,l.createTextVNode)(" tab缩进长度 ");function $(e,t,o,n,a,r){const c=(0,l.resolveComponent)("n-input"),s=(0,l.resolveComponent)("n-icon"),d=(0,l.resolveComponent)("n-button"),i=(0,l.resolveComponent)("n-dynamic-tags"),u=(0,l.resolveComponent)("n-space"),p=(0,l.resolveComponent)("n-card"),h=(0,l.resolveComponent)("n-input-number"),w=(0,l.resolveComponent)("n-modal");return(0,l.openBlock)(),(0,l.createBlock)(u,{justify:"center",class:"max-wide"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.words,((o,n)=>((0,l.openBlock)(),(0,l.createBlock)(p,{key:n,hoverable:"",class:"word-card"},{header:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{onClick:t=>e.edit_head_open(n),style:{fontFamily:"Consolas"}},(0,l.toDisplayString)(`${n+1}. `+o.en),9,B),[[l.vShow,e.edit_head!=n]]),(0,l.withDirectives)((0,l.createVNode)(c,{ref_for:!0,ref:e.setHeadRef,onBlur:t[0]||(t[0]=t=>e.edit_head=-1),onKeyup:t[1]||(t[1]=(0,l.withKeys)((t=>e.edit_head=-1),["enter"])),value:o.en,"onUpdate:value":e=>o.en=e,type:"text"},null,8,["value","onUpdate:value"]),[[l.vShow,e.edit_head==n]])])),"header-extra":(0,l.withCtx)((()=>[(0,l.createVNode)(d,{bordered:!1,focusable:!1,style:{"font-size":"30px",width:"30px",height:"30px"},text:"",onClick:(0,l.withModifiers)((t=>e.open_word(o)),["stop"])},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(s,{class:(0,l.normalizeClass)(""+(o.note.length>0?"note-icon-show":"note-icon"))},{default:(0,l.withCtx)((()=>[E])),_:2},1032,["class"])])),_:2},1032,["onClick"]),(0,l.createVNode)(d,{bordered:!1,focusable:!1,style:{"font-size":"30px",width:"30px",height:"30px"},ghost:"",color:e.get_color(o.mark),onClick:(0,l.withModifiers)((t=>e.mark_word(o)),["stop"])},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(s,null,{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("svg",{color:e.get_color(o.mark),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},U,8,M)),[[l.vShow,o.mark>0]]),(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("svg",Z,O,512)),[[l.vShow,0==o.mark]])])),_:2},1024)])),_:2},1032,["color","onClick"])])),action:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{justify:"space-between"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:o.tags,"onUpdate:value":e=>o.tags=e},null,8,["value","onUpdate:value"]),(0,l.createVNode)(u,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{onMouseenter:t=>e.fanyi_show=n,onMouseleave:t[4]||(t[4]=t=>e.fanyi_show=-1)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{style:(0,l.normalizeStyle)({opacity:e.fanyi_show==n?1:0}),type:"info",tag:"a",href:`https://fanyi.baidu.com/#en/zh/${o.en}`,target:"baidu"},{default:(0,l.withCtx)((()=>[j])),_:2},1032,["style","href"]),(0,l.createVNode)(d,{style:(0,l.normalizeStyle)({opacity:e.fanyi_show==n?1:0}),type:"info",tag:"a",href:`https://translate.google.cn/?sl=en&tl=zh-CN&text=${o.en}&op=translate`,target:"google"},{default:(0,l.withCtx)((()=>[A])),_:2},1032,["style","href"])])),_:2},1032,["onMouseenter"]),(0,l.createVNode)(d,{bordered:!1,focusable:!1,style:{"font-size":"30px",width:"30px",height:"30px"},onClick:e=>o.show=!o.show},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(s,null,{default:(0,l.withCtx)((()=>[F])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{style:(0,l.normalizeStyle)({opacity:o.show?1:0,fontSize:"18px"}),onClick:t=>e.edit_text_open(n)},(0,l.toDisplayString)(o.zh),13,H),[[l.vShow,e.edit_text!=n]]),(0,l.withDirectives)((0,l.createVNode)(c,{ref_for:!0,ref:e.setTextRef,onBlur:t[2]||(t[2]=t=>e.edit_text=-1),onKeydown:t[3]||(t[3]=(0,l.withKeys)((t=>e.edit_text=-1),["enter"])),value:o.zh,"onUpdate:value":e=>o.zh=e,type:"text"},null,8,["value","onUpdate:value"]),[[l.vShow,e.edit_text==n]])])),_:2},1024)))),128)),(0,l.createVNode)(p,{title:"新建",hoverable:"",onClick:e.add_word,class:"new-card"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.words.length==e.pageSize?"本页已到达上限，点我将在最后一页添加新卡片":"点我添加一个卡片"),1)])),_:1},8,["onClick"]),(0,l.createVNode)(w,{show:e.showModal,"onUpdate:show":t[8]||(t[8]=t=>e.showModal=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{style:{width:"600px"},title:e.word_open.en},{"header-extra":(0,l.withCtx)((()=>[(0,l.createVNode)(u,{align:"center"},{default:(0,l.withCtx)((()=>[D,(0,l.createVNode)(h,{value:e.tab_len,"onUpdate:value":t[5]||(t[5]=t=>e.tab_len=t),min:1,max:4,style:{width:"50px"},placeholder:"2","show-button":!1},null,8,["value"])])),_:1})])),footer:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:e.word_open.tags,"onUpdate:value":t[7]||(t[7]=t=>e.word_open.tags=t)},null,8,["value"])])),default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{class:"note-area",value:e.word_open.note,"onUpdate:value":t[6]||(t[6]=t=>e.word_open.note=t),type:"textarea",placeholder:"输入笔记",onKeydown:e.note_area_key_down_event,onKeyup:e.note_area_key_up_event,ref:"note_area_ref"},null,8,["value","onKeydown","onKeyup"])])),_:1},8,["title"])])),_:1},8,["show"])])),_:1})}var R=(0,l.defineComponent)({props:["words","colors","app_mark","pageSize"],emits:["app_mark_word","add_words"],setup(e,t){const o=(0,_.U)(),n=(0,l.ref)(-1),a=(0,l.ref)(-1);let r=(0,l.ref)([]);const c=e=>{e&&r.value.push(e)},s=async e=>{a.value=e,await(0,l.nextTick)(),r.value[e].focus()},d=(0,l.ref)(-1);let i=(0,l.ref)([]);const u=e=>{e&&i.value.push(e)},p=async e=>{d.value=e,await(0,l.nextTick)(),i.value[e].focus()};(0,l.onBeforeUpdate)((()=>{r=(0,l.ref)([]),i=(0,l.ref)([])}));const h=()=>{let l={};e.words.length>0&&e.words.length<e.pageSize&&(l.tags=e.words[0].tags,l.mark=e.words[0].mark),t.emit("add_words",[l]),o.success("添加新卡片成功！")},w=t=>0==t?"#111111":e.colors[t-1],v=l=>{0==e.app_mark?o.warning("未勾选画笔"):t.emit("app_mark_word",l.num)},f=(0,l.ref)(!1);let m=(0,l.ref)({});const x=(0,l.ref)(null),g=async e=>{m.value=e,f.value=!0,await(0,l.nextTick)(),x.value.focus()},k=(0,l.ref)(2);let C="";const y=e=>{"Tab"==e.key?(e.preventDefault(),N(e,"Shift"==C?"del":"add")):C=e.key},V=e=>{C==e.key&&(C="")},N=(e,t)=>{let o=k.value;o||(o=2);let l=e.target.selectionStart,n=e.target.selectionEnd,a=m.value.note;while(l>0){if("\n"==a[l-1])break;l--}let r=a.slice(l,n).split("\n"),c=a.slice(0,l),s=a.slice(n),d="";r.forEach((e=>{let l=e.trimLeft(),n=e.length-l.length;"add"==t?n+=o-n%o:"del"==t&&n>=o&&(n-=n%o==0?4:n%o);let a=new Array(n+1).join(" ");d+=a+l+"\n"})),m.value.note=c+d.slice(0,-1)+s};return{fanyi_show:n,tab_len:k,note_area_ref:x,note_area_key_down_event:y,note_area_key_up_event:V,setTextRef:u,setHeadRef:c,edit_text_open:p,edit_head_open:s,showModal:f,open_word:g,word_open:m,get_color:w,mark_word:v,add_word:h,edit_head:a,edit_text:d}}});const K=(0,N.Z)(R,[["render",$],["__scopeId","data-v-7b55b22e"]]);var I=K;const P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},J=(0,l.createElementVNode)("g",{fill:"none"},[(0,l.createElementVNode)("path",{d:"M14.5 10a4.5 4.5 0 1 0 0-9a4.5 4.5 0 0 0 0 9zm2.354-5.646l-3 3a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 .708-.708l.646.647l2.646-2.647a.5.5 0 0 1 .708.708z",fill:"currentColor"}),(0,l.createElementVNode)("path",{d:"M14.845 10.99a5.636 5.636 0 0 1-1.085-.04l-3.26 5.561v-5.645a1 1 0 1 0-1 0v5.645L6.216 10.91a1.5 1.5 0 0 1-.062-1.4L7.816 6h1.206a5.57 5.57 0 0 1 0-1H6.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 6h.21L5.25 9.08a2.5 2.5 0 0 0 .103 2.335l3.463 5.907a1.373 1.373 0 0 0 2.368 0l3.463-5.907c.08-.137.146-.28.198-.426z",fill:"currentColor"})],-1),X=[J],W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},q=(0,l.createElementVNode)("g",{fill:"none"},[(0,l.createElementVNode)("path",{d:"M6 2.5a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 6h.21L5.25 9.08a2.5 2.5 0 0 0 .103 2.335l3.463 5.907a1.373 1.373 0 0 0 2.368 0l3.463-5.907a2.5 2.5 0 0 0 .102-2.335L13.29 6h.21A1.5 1.5 0 0 0 15 4.5v-2a.5.5 0 0 0-1 0v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zM12.184 6l1.662 3.509a1.5 1.5 0 0 1-.062 1.4L10.5 16.511v-5.645a1 1 0 1 0-1 0v5.645L6.216 10.91a1.5 1.5 0 0 1-.062-1.4L7.816 6h4.368z",fill:"currentColor"})],-1),G=[q];function Q(e,t,o,n,a,r){const c=(0,l.resolveComponent)("n-icon"),s=(0,l.resolveComponent)("n-button"),d=(0,l.resolveComponent)("n-space");return(0,l.openBlock)(),(0,l.createBlock)(d,null,{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.colors,((t,o)=>((0,l.openBlock)(),(0,l.createBlock)(s,{bordered:!1,focusable:!1,circle:"",key:o,ghost:"",color:t,style:{"font-size":"35px",width:"60px",height:"60px",margin:"-10px"},onClick:t=>e.clickHandle(o)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,null,{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("svg",P,X,512)),[[l.vShow,e.mark==o+1]]),(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("svg",W,G,512)),[[l.vShow,e.mark!=o+1]])])),_:2},1024)])),_:2},1032,["color","onClick"])))),128))])),_:1})}var Y=(0,l.defineComponent)({props:["colors","mark"],emits:["set_mark"],setup(e,t){const o=o=>{e.mark==o+1?t.emit("set_mark",0):t.emit("set_mark",o+1)};return{clickHandle:o}}});const ee=(0,N.Z)(Y,[["render",Q]]);var te=ee;function oe(e){const t=(0,l.reactive)([{name:"标记",tags:["红色","蓝色","橙色","紫色","白色","全部"],checked:["全部"]},{name:"分类",tags:["基础","四级","六级","英语一","英语二","笔记","全部"],checked:["全部"]},{name:"年份",tags:["2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","全部"],checked:["全部"]}]),o=(0,l.ref)(""),n=["白色","红色","蓝色","橙色","紫色"],a=(e,t)=>{for(let o=0;o<t.length;o++)if(-1!=e.indexOf(t[o]))return!0;return!1},r=(0,l.computed)((()=>{let l=e.value.filter((e=>!(o.value&&e.en.search(o.value)<0)));for(let e=0;e<t.length;e++){let o=t[e].checked;-1==o.indexOf("全部")&&(l="标记"==t[e].name?l.filter((e=>a(o,[n[e.mark]]))):l.filter((e=>a(o,e.tags))))}let r=[];return l.forEach((e=>r.push(e.num))),r}));return{tagSets:t,selected_words:r,keyword:o}}function le(){const e=(0,l.ref)([]),t=t=>{t.forEach((t=>{let o={num:e.value.length,en:"English Word",zh:"中文含义",mark:0,show:!0,tags:[],note:""};o={...o,...t},e.value.push(o)}))},o=o=>{e.value=[],t(o)},n=t=>{let o=[];e.value.forEach((e=>{let t={};Object.keys(e).forEach((o=>{"show"!=o&&"num"!=o&&(e[o]>0||e[o].length>0)&&(t[o]=e[o])})),o.push(t)})),t(JSON.stringify(o))};return{words:e,cover_words:o,add_words:t,repack_words:n}}function ne(e,t,o,n){const a=(0,l.computed)((()=>{let l=t.value-1,a=n.value.slice(e.value*l,e.value*(l+1)),r=[];return a.forEach((e=>{r.push(o.value[e])})),r}));return{show_words:a}}function ae(e){const t=(0,l.ref)(50),o=(0,l.ref)(1),n=(0,l.computed)((()=>parseInt(Math.max(0,e.value.length-1)/t.value)+1));return(0,l.watch)(n,(()=>{o.value=Math.min(o.value,n.value)})),{page:o,pageMax:n,pageSize:t}}var re=o(3424),ce=o(7654),se=o(6613),de={name:"App",components:{TopMenu:z,WordCardFall:I,MarkPen:te},setup(){const e=(0,l.ref)(!1),t=(0,l.ref)(!1),o=(0,l.ref)(!1),n=e=>{o.value=e.target.scrollingElement.scrollTop>500};(0,l.onMounted)((()=>{window.addEventListener("scroll",n,!0),setTimeout((()=>{window.scrollTo(0,100)}),100)}));const a=(0,l.ref)(!1),r=()=>a.value=!0,{words:c,cover_words:s,add_words:d,repack_words:i}=le(),{tagSets:u,selected_words:p,keyword:h}=oe(c),{page:w,pageMax:v,pageSize:f}=ae(p),{show_words:m}=ne(f,w,c,p),_=(0,l.ref)(1),x=e=>{c.value.some((t=>{if(t.num==e)return t.mark=t.mark==_.value?0:_.value,!0}))},g=(0,l.ref)(!1),k=()=>{c.value.forEach((e=>e.show=g.value)),g.value=!g.value},C=["#d22027","#385989","#fece71","#F25BF2FF"],y=e=>{_.value=e};return{top_show:t,enough_high:o,show:e,zhCN:re.Z,dateZhCN:ce.Z,darkTheme:se.$,active:a,activate:r,tagSets:u,keyword:h,words:c,add_words:d,cover_words:s,repack_words:i,show_words:m,page:w,pageMax:v,pageSize:f,mark:_,mark_word:x,colors:C,set_mark:y,translate:k}}};const ie=(0,N.Z)(de,[["render",u]]);var ue=ie,pe=o(6542),he=o(2861),we=o(5377),ve=o(246),fe=o(9522),me=o(3446),_e=o(1746),xe=o(9864),ge=o(797),ke=o(3008),Ce=o(6863),ye=o(1727),Ve=o(5326),Ne=o(1328),be=o(5857),ze=o(7540),Se=o(254),Be=o(6588),Ee=o(9832);const Me=(0,pe.Z)({components:[he.Z,we.Z,ve.Z,fe.ZP,me.Z,_e.Z,x.g,xe.Z,ge.Z,ke.Z,Ce.Z,ye.Z,Ve.Z,Ne.Z,be.Z,ze.Z,Se.Z,Be.Z,Ee.Z]}),Le=(0,l.createApp)(ue);Le.use(Me),Le.mount("#app")},311:function(e){e.exports=Vue}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,l,n,a){if(!l){var r=1/0;for(i=0;i<e.length;i++){l=e[i][0],n=e[i][1],a=e[i][2];for(var c=!0,s=0;s<l.length;s++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](l[s])}))?l.splice(s--,1):(c=!1,a<r&&(r=a));if(c){e.splice(i--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[l,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,a,r=l[0],c=l[1],s=l[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(s)var i=s(o)}for(t&&t(l);d<r.length;d++)a=r[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(i)},l=self["webpackChunkvue3_word_online"]=self["webpackChunkvue3_word_online"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(7917)}));l=o.O(l)})();